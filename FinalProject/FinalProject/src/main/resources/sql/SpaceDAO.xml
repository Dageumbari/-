<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTDEMapper3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bit.model.dao.SpaceDAO">


	<resultMap id="draftCardListMap" type="draftCardList">
		<collection property="draftCards" javaType="List"
			column="draftCode" ofType="DraftCard" select="getDraftCard">
		</collection>
	</resultMap>


	<!-- 드래프트 리스트 출력 -->
	<select id="getdraftList" resultMap="draftCardListMap">
		select * from draftCardList
	</select>

	<!-- 드래프트 카드 디테일 -->
	<select id="getDraftCard">
		select * from draftCard
	</select>


	<select id="getSpaceUserInfo" resultType="spaceUserInfoDTO">
		select
		spaceCode,spaceName,spaceUrl,name,userNo,userImage from spaceUserInfo
		where userNo=#{userNo} and spaceCode=#{spaceCode}
	</select>


	<!-- 드래프트 메시지 입력, 저장 -->
	<insert id="insertDraftMsg" parameterType="Map">
		insert into
		draftMsg
		values (draftMsg_seq.nextval), #{msgContent}, #{editsCount},
		#{draftCode} )
	</insert>

	<update id="updateDraftMsg" parameterMap="String">
		update draftMsg set
		msgContent=#{msgContent}
		where draftMsgno=#{draftMsgNo}
	</update>

	<!-- 드래프트 카드 생성 -->




</mapper>