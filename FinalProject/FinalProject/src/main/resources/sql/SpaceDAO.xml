<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTDEMapper3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bit.model.dao.SpaceDAO">

	<!-- space -->
	<!-- <resultMap type="com.bit.model.dto.SpaceDTO" id="space_resultMap"> 
		<id property="spaceCode" column="spaceCode" /> <result property="userNo" 
		column="userNo" /> <result property="spaceName" column="spaceName" /> <result 
		property="spaceUrl" column="spaceUrl" /> <collection property="draftList" 
		column="draftCode" ofType="draftList" select="selectDraftsForSpace"> </collection> 
		</resultMap> -->

	<resultMap id="spaceDraftMap" type="SpaceDTO">
		<id property="spaceCode" column="spaceCode"/>
		<collection property="draftDTO" javaType="List"
			ofType="draftDTO" column="getSavedDraft" select="draftCard">
			<id property="draftCode" column="draftCode" />
			<result property="draftSavetime" column="draftSavetime" />
			<result property="draftStatus" column="draftStatus" />
			<result property="draftMsgNo" column="draftMsgNo" />
			<result property="editsCount" column="editsCount" />
			<result property="userNo" column="userNo" />
			<result property="name" column="name" />
			<result property="userImage" column="userImage" />
		</collection>
	</resultMap>
	
	<select id="draftCard" resultMap="spaceDraftMap">
		select * from draft
	</select>



	<!-- <result property="draftStatus" column="draftStatus" typeHandler=""/> -->





	<!-- <resultMap type="pageGroupDTO" id="pageGroup_resultMap"> </resultMap> -->


	<!-- <resultMap type="draftDTO" id="draft_resultMap"> <id property="draftCode" 
		column="draftCode" /> <result property="draftSavetime" column="draftSaveTime" 
		/> <result property="draftStatus" column="draftStatus" /> </resultMap> -->


	<!-- edits 항목의 badge -->
	<!-- <select id="getEditsBadge" resultType="int" parameterType="int"> select 
		count(*) from draft where userNo=#{userNo} and draftStauts="saved" </select> -->

	<!-- <result property="userImage" column="userImage"/> <result property="name" 
		column="name"/> -->



</mapper>