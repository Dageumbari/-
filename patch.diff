From fcab47c3443a241d3ad16b9def49f32766f5a8fc Mon Sep 17 00:00:00 2001
From: tokki-source <withtokki@gmail.com>
Date: Mon, 8 Jun 2020 11:01:37 +0900
Subject: [PATCH] =?UTF-8?q?TDD=20-=20mapper=20=EC=97=B0=EA=B2=B0=EA=B9=8C?=
 =?UTF-8?q?=EC=A7=80=20=EC=99=84=EB=A3=8C?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 .../java/com/bit/controller/space/PageController.java    | 8 ++++----
 .../src/main/java/com/bit/model/dao/PageDAO.java         | 7 ++++---
 .../src/main/resources/application.properties            | 6 +++---
 .../src/main/resources/sql/daoMapper_Sample.xml          | 8 ++++----
 .../src/test/java/com/bit/PersistenceTest.java           | 9 +++++----
 5 files changed, 20 insertions(+), 18 deletions(-)

diff --git a/FinalProject/FinalProject/src/main/java/com/bit/controller/space/PageController.java b/FinalProject/FinalProject/src/main/java/com/bit/controller/space/PageController.java
index 2a496b4..c998cd7 100644
--- a/FinalProject/FinalProject/src/main/java/com/bit/controller/space/PageController.java
+++ b/FinalProject/FinalProject/src/main/java/com/bit/controller/space/PageController.java
@@ -6,12 +6,12 @@ import org.springframework.web.bind.annotation.GetMapping;
 
 import com.bit.model.dao.PageDAO;
 
-@Controller
+//@Controller
 public class PageController {
 	
-	@Autowired
-	PageDAO pageDAO;
-	
+	/*
+	 * @Autowired PageDAO pageDAO;
+	 */
 	/*
 	 * @GetMapping("/pageTest") public String getPagebyPageNo(int PageNo) { return
 	 * "/space/pageTest"; }
diff --git a/FinalProject/FinalProject/src/main/java/com/bit/model/dao/PageDAO.java b/FinalProject/FinalProject/src/main/java/com/bit/model/dao/PageDAO.java
index ee9ded6..b405fef 100644
--- a/FinalProject/FinalProject/src/main/java/com/bit/model/dao/PageDAO.java
+++ b/FinalProject/FinalProject/src/main/java/com/bit/model/dao/PageDAO.java
@@ -11,10 +11,11 @@ public interface PageDAO {
 	//pageNo로 page 조회
 	
 	
-	  @Select("select * from page where pageNo=1") 
-	  PageVO getPageVO(int PageNo);
+	/*
+	 * @Select("select * from page where pageNo=1") PageVO getPageVO(int PageNo);
+	 */
 	 
-	//public PageVO getPagebyPageNo(int pageNo);
+	PageVO getPagebyPageNo(int pageNo);
 	
 	
 }
diff --git a/FinalProject/FinalProject/src/main/resources/application.properties b/FinalProject/FinalProject/src/main/resources/application.properties
index 7065614..175a1de 100644
--- a/FinalProject/FinalProject/src/main/resources/application.properties
+++ b/FinalProject/FinalProject/src/main/resources/application.properties
@@ -1,6 +1,6 @@
 # Database
 spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
-spring.datasource.url=jdbc:oracle:thin:@localhost:1521/orcl
+spring.datasource.url=jdbc:oracle:thin:@localhost:1521/orcl?serverTimezone=UTC&characterEncoding=UTF-8
 spring.datasource.username=root
 spring.datasource.password=1234
 
@@ -20,8 +20,8 @@ spring.http.encoding.charset=UTF-8
 spring.http.encoding.enabled=true
 spring.http.encoding.force=true
 
-##Alias
-mybatis.type-aliases-package=com.bit.model.vo
+##type-alias 
+###mybatis.type-aliases-package=com.bit.model
 
 ##xml location
 mybatis.mapper-locations=classpath:sql/**/*.xml
\ No newline at end of file
diff --git a/FinalProject/FinalProject/src/main/resources/sql/daoMapper_Sample.xml b/FinalProject/FinalProject/src/main/resources/sql/daoMapper_Sample.xml
index 3237e41..08b08c5 100644
--- a/FinalProject/FinalProject/src/main/resources/sql/daoMapper_Sample.xml
+++ b/FinalProject/FinalProject/src/main/resources/sql/daoMapper_Sample.xml
@@ -2,11 +2,11 @@
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTDEMapper3.0//EN"
 	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
-<mapper namespace="com.bit.model.dao">
+<mapper namespace="com.bit.model.dao.PageDAO">
 
-	<select id="getPagebyPageNo()" parameterType="Integer"
-		resultType="PageVO">
-		select * from page where pageNo=1
+	<select id="getPagebyPageNo" parameterType="Integer"
+		resultType="com.bit.model.vo.PageVO">
+		select * from page where pageNo=#{pageNo}
 	</select>
 	
 </mapper>
diff --git a/FinalProject/FinalProject/src/test/java/com/bit/PersistenceTest.java b/FinalProject/FinalProject/src/test/java/com/bit/PersistenceTest.java
index a5f0711..f5ea997 100644
--- a/FinalProject/FinalProject/src/test/java/com/bit/PersistenceTest.java
+++ b/FinalProject/FinalProject/src/test/java/com/bit/PersistenceTest.java
@@ -18,10 +18,11 @@ public class PersistenceTest {
 	
 	@Test
 	public void pageDAOTest() {
-		/*
-		 * PageVO pageVO = pageDAO.getPageVO(1);
-		 */		
-		System.err.println(pageDAO.getPageVO(1));
+		
+		
+		//System.err.println(pageDAO.getPageVO(1));
+		
+		System.err.println(pageDAO.getPagebyPageNo(1));
 		
 	}
 }
-- 
2.25.0.windows.1

